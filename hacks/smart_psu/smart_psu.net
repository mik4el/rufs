(export (version D)
  (design
    (source /Users/mikaelandersson/git/rufs/hacks/smart_psu/smart_psu.sch)
    (date "Tisdag 19 Januari 2016 15:30:04")
    (tool "Eeschema 4.0.1-stable")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source smart_psu.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref U1)
      (value MAX1555)
      (footprint TO_SOT_Packages_SMD:SOT-23-5)
      (libsource (lib smart_psu-cache) (part MAX1555))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BA542))
    (comp (ref R5)
      (value 100K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BA54F))
    (comp (ref C1)
      (value 1uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BA550))
    (comp (ref C3)
      (value 1uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BA551))
    (comp (ref C2)
      (value 1uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BA552))
    (comp (ref C5)
      (value 10uF)
      (footprint Capacitors_SMD:C_1206_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAA48))
    (comp (ref C6)
      (value 1uF)
      (footprint Capacitors_SMD:C_0805_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAA4A))
    (comp (ref C4)
      (value 10uF)
      (footprint Capacitors_SMD:C_1206_HandSoldering)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAA4E))
    (comp (ref R6)
      (value 100K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAA51))
    (comp (ref IC1)
      (value ATTINY85-P)
      (footprint Housings_DIP:DIP-8_W7.62mm)
      (libsource (lib atmel) (part ATTINY85-P))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC68))
    (comp (ref D1)
      (value GREEN_LED)
      (footprint LEDs:LED_1206)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC6B))
    (comp (ref D2)
      (value RED_LED)
      (footprint LEDs:LED_1206)
      (libsource (lib device) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC6C))
    (comp (ref R1)
      (value 3.3K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC6D))
    (comp (ref R2)
      (value 3.3K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC6E))
    (comp (ref Q1)
      (value Q_NMOS_DGS)
      (footprint TO_SOT_Packages_SMD:SOT-23)
      (libsource (lib device) (part Q_NMOS_DGS))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC73))
    (comp (ref R3)
      (value 1K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC75))
    (comp (ref R4)
      (value 1K)
      (footprint Resistors_SMD:R_0805_HandSoldering)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAC76))
    (comp (ref SW3)
      (value Voltage)
      (footprint spdt_slide_switch:spdt_slide_switch_angled)
      (libsource (lib device) (part SWITCH_INV))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BCBC5))
    (comp (ref P2)
      (value "External DC")
      (footprint Connect:PINHEAD1-2)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BE366))
    (comp (ref P1)
      (value USB_OTG)
      (footprint Connect:USB_Micro-B)
      (libsource (lib conn) (part USB_OTG))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BE3F7))
    (comp (ref P3)
      (value VCC)
      (footprint Connect:PINHEAD1-2)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 569C1690))
    (comp (ref W1)
      (value TEST_1P)
      (footprint Measurement_Points:Measurement_Point_Round-SMD-Pad_Small)
      (libsource (lib conn) (part TEST_1P))
      (sheetpath (names /) (tstamps /))
      (tstamp 569DF752))
    (comp (ref U2)
      (value MCP1253)
      (footprint Housings_SSOP:MSOP-8_3x3mm_Pitch0.65mm)
      (libsource (lib smart_psu-cache) (part MCP1253))
      (sheetpath (names /) (tstamps /))
      (tstamp 569BAA44))
    (comp (ref P4)
      (value Battery)
      (footprint Connect:PINHEAD1-2)
      (libsource (lib conn) (part CONN_01X02))
      (sheetpath (names /) (tstamps /))
      (tstamp 569E11A8))
    (comp (ref SW2)
      (value On/Off)
      (footprint spdt_slide_switch:spdt_slide_switch_angled)
      (libsource (lib device) (part SWITCH_INV))
      (sheetpath (names /) (tstamps /))
      (tstamp 569E1A5A))
    (comp (ref SW1)
      (value Reset)
      (footprint Buttons_Switches_ThroughHole:SW_PUSH-12mm)
      (libsource (lib device) (part SW_PUSH))
      (sheetpath (names /) (tstamps /))
      (tstamp 569E23B0)))
  (libparts
    (libpart (lib atmel) (part ATTINY25-P)
      (aliases
        (alias ATTINY45-P)
        (alias ATTINY85-P))
      (description "PDIP8, 2k Flash, 128B SRAM, 128B EEPROM, Debug Wire")
      (docs http://www.atmel.com/images/atmel-2586-avr-8-bit-microcontroller-attiny25-attiny45-attiny85_datasheet.pdf)
      (fields
        (field (name Reference) IC)
        (field (name Value) ATTINY25-P)
        (field (name Footprint) DIP8))
      (pins
        (pin (num 1) (name "PB5(~RESET~/dW/ADC0/PCINT5)") (type BiDi))
        (pin (num 2) (name "PB3(XTAL1/CLKI/OC1B/ADC3/PCINT3)") (type BiDi))
        (pin (num 3) (name "PB4(XTAL2/CLKO/OC1B/ADC2/PCINT4)") (type BiDi))
        (pin (num 4) (name GND) (type power_in))
        (pin (num 5) (name "PB0(MOSI/DI/SDA/AIN0/OC0A/OC1A/AREF/PCINT0)") (type BiDi))
        (pin (num 6) (name "PB1(MISO/DO/AIN1/OC0B/OC1A/PCINT1)") (type BiDi))
        (pin (num 7) (name "PB2(SCK/USCK/SCL/T0/INT0/ADC1/PCINT2)") (type BiDi))
        (pin (num 8) (name VCC) (type power_in))))
    (libpart (lib device) (part C)
      (description "Unpolarized capacitor")
      (footprints
        (fp C?)
        (fp C_????_*)
        (fp C_????)
        (fp SMD*_c)
        (fp Capacitor*))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib conn) (part CONN_01X02)
      (description "Connector 01x02")
      (footprints
        (fp Pin_Header_Straight_1X02)
        (fp Pin_Header_Angled_1X02)
        (fp Socket_Strip_Straight_1X02)
        (fp Socket_Strip_Angled_1X02))
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_01X02))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name P2) (type passive))))
    (libpart (lib device) (part LED)
      (footprints
        (fp LED-3MM)
        (fp LED-5MM)
        (fp LED-10MM)
        (fp LED-0603)
        (fp LED-0805)
        (fp LED-1206)
        (fp LEDV))
      (fields
        (field (name Reference) D)
        (field (name Value) LED))
      (pins
        (pin (num 1) (name K) (type passive))
        (pin (num 2) (name A) (type passive))))
    (libpart (lib smart_psu-cache) (part MAX1555)
      (fields
        (field (name Reference) U)
        (field (name Value) MAX1555))
      (pins
        (pin (num 1) (name USB) (type power_in))
        (pin (num 2) (name GND) (type power_in))
        (pin (num 3) (name CHG) (type output))
        (pin (num 4) (name DC) (type input))
        (pin (num 5) (name BAT) (type power_out))))
    (libpart (lib smart_psu-cache) (part MCP1253)
      (fields
        (field (name Reference) U)
        (field (name Value) MCP1253))
      (pins
        (pin (num 1) (name PGOOD) (type output))
        (pin (num 2) (name V_OUT) (type power_out))
        (pin (num 3) (name V_IN) (type power_in))
        (pin (num 4) (name GND) (type power_in))
        (pin (num 5) (name C-) (type input))
        (pin (num 6) (name C+) (type input))
        (pin (num 7) (name ~SHDN) (type input))
        (pin (num 8) (name SELECT) (type input))))
    (libpart (lib device) (part Q_NMOS_DGS)
      (description "Transistor N-MOSFET (general)")
      (fields
        (field (name Reference) Q)
        (field (name Value) Q_NMOS_DGS))
      (pins
        (pin (num 1) (name D) (type passive))
        (pin (num 2) (name G) (type input))
        (pin (num 3) (name S) (type passive))))
    (libpart (lib device) (part R)
      (description Resistor)
      (footprints
        (fp R_*)
        (fp Resistor_*))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib device) (part SWITCH_INV)
      (description inverseur)
      (fields
        (field (name Reference) SW)
        (field (name Value) SWITCH_INV))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))
        (pin (num 3) (name 3) (type passive))))
    (libpart (lib device) (part SW_PUSH)
      (description Button)
      (fields
        (field (name Reference) SW)
        (field (name Value) SW_PUSH))
      (pins
        (pin (num 1) (name 1) (type passive))
        (pin (num 2) (name 2) (type passive))))
    (libpart (lib conn) (part TEST_1P)
      (description point)
      (fields
        (field (name Reference) W)
        (field (name Value) TEST_1P))
      (pins
        (pin (num 1) (name 1) (type passive))))
    (libpart (lib conn) (part USB_OTG)
      (description "micro/mini connector")
      (footprints
        (fp USB*))
      (fields
        (field (name Reference) P)
        (field (name Value) USB_OTG))
      (pins
        (pin (num 1) (name VCC) (type power_out))
        (pin (num 2) (name D-) (type passive))
        (pin (num 3) (name D+) (type passive))
        (pin (num 4) (name ID) (type power_in))
        (pin (num 5) (name GND) (type power_in))
        (pin (num 6) (name shield) (type passive)))))
  (libraries
    (library (logical device)
      (uri "/Library/Application Support/kicad/library/device.lib"))
    (library (logical conn)
      (uri "/Library/Application Support/kicad/library/conn.lib"))
    (library (logical atmel)
      (uri "/Library/Application Support/kicad/library/atmel.lib"))
    (library (logical smart_psu-cache)
      (uri /Users/mikaelandersson/git/rufs/hacks/smart_psu/smart_psu-cache.lib)))
  (nets
    (net (code 1) (name "Net-(SW3-Pad2)")
      (node (ref SW3) (pin 2))
      (node (ref U2) (pin 8)))
    (net (code 2) (name "Net-(C2-Pad1)")
      (node (ref U1) (pin 4))
      (node (ref C2) (pin 1))
      (node (ref P2) (pin 2)))
    (net (code 3) (name "Net-(D1-Pad2)")
      (node (ref D1) (pin 2))
      (node (ref IC1) (pin 2)))
    (net (code 4) (name "Net-(D2-Pad2)")
      (node (ref IC1) (pin 3))
      (node (ref D2) (pin 2)))
    (net (code 5) (name "Net-(IC1-Pad1)")
      (node (ref IC1) (pin 1))
      (node (ref SW1) (pin 2)))
    (net (code 6) (name "Net-(Q1-Pad2)")
      (node (ref Q1) (pin 2))
      (node (ref R4) (pin 1))
      (node (ref R3) (pin 1)))
    (net (code 7) (name GND)
      (node (ref R2) (pin 2))
      (node (ref IC1) (pin 4))
      (node (ref U1) (pin 2))
      (node (ref R1) (pin 2))
      (node (ref SW1) (pin 1))
      (node (ref R4) (pin 2))
      (node (ref Q1) (pin 3))
      (node (ref P2) (pin 1))
      (node (ref P1) (pin 5))
      (node (ref C2) (pin 2))
      (node (ref C3) (pin 2))
      (node (ref P4) (pin 2))
      (node (ref C1) (pin 1)))
    (net (code 8) (name "Net-(IC1-Pad5)")
      (node (ref R3) (pin 2))
      (node (ref IC1) (pin 5)))
    (net (code 9) (name "Net-(R6-Pad1)")
      (node (ref U2) (pin 7))
      (node (ref R6) (pin 1)))
    (net (code 10) (name "Net-(P4-Pad1)")
      (node (ref SW2) (pin 3))
      (node (ref P4) (pin 1)))
    (net (code 11) (name "Net-(SW2-Pad1)")
      (node (ref SW2) (pin 1)))
    (net (code 12) (name GNDA)
      (node (ref C4) (pin 2))
      (node (ref C5) (pin 2))
      (node (ref Q1) (pin 1))
      (node (ref P3) (pin 2))
      (node (ref SW3) (pin 3))
      (node (ref U2) (pin 4)))
    (net (code 13) (name "Net-(IC1-Pad6)")
      (node (ref IC1) (pin 6))
      (node (ref W1) (pin 1)))
    (net (code 14) (name "Net-(U2-Pad1)")
      (node (ref U2) (pin 1)))
    (net (code 15) (name "Net-(C6-Pad2)")
      (node (ref C6) (pin 2))
      (node (ref U2) (pin 5)))
    (net (code 16) (name "Net-(D1-Pad1)")
      (node (ref D1) (pin 1))
      (node (ref R1) (pin 1)))
    (net (code 17) (name "Net-(D2-Pad1)")
      (node (ref D2) (pin 1))
      (node (ref R2) (pin 1)))
    (net (code 18) (name +BATT)
      (node (ref R6) (pin 2))
      (node (ref SW3) (pin 1))
      (node (ref SW2) (pin 2))
      (node (ref C5) (pin 1))
      (node (ref C3) (pin 1))
      (node (ref R5) (pin 2))
      (node (ref U1) (pin 5))
      (node (ref IC1) (pin 8))
      (node (ref U2) (pin 3)))
    (net (code 19) (name "Net-(IC1-Pad7)")
      (node (ref IC1) (pin 7))
      (node (ref U1) (pin 3))
      (node (ref R5) (pin 1)))
    (net (code 20) (name "Net-(C1-Pad2)")
      (node (ref U1) (pin 1))
      (node (ref C1) (pin 2))
      (node (ref P1) (pin 1)))
    (net (code 21) (name "Net-(C6-Pad1)")
      (node (ref C6) (pin 1))
      (node (ref U2) (pin 6)))
    (net (code 22) (name VCC)
      (node (ref C4) (pin 1))
      (node (ref U2) (pin 2))
      (node (ref P3) (pin 1)))
    (net (code 23) (name "Net-(P1-Pad6)")
      (node (ref P1) (pin 6)))
    (net (code 24) (name "Net-(P1-Pad4)")
      (node (ref P1) (pin 4)))
    (net (code 25) (name "Net-(P1-Pad3)")
      (node (ref P1) (pin 3)))
    (net (code 26) (name "Net-(P1-Pad2)")
      (node (ref P1) (pin 2)))))